package com.rakuten.training.dal;

import java.util.List;

import javax.persistence.EntityManager;
import javax.transaction.Transactional;

import org.springframework.stereotype.Repository;

import com.rakuten.training.domain.Product;
import com.rakuten.training.domain.Review;

@Repository
@Transactional


public class ReviewDAOJpaImpl implements ReviewDAO {
	
	EntityManager em;
	public Review  findById1(int id)
	
	{
		return em.find (Review.class, id);
		
	}

	
	
		public Review save(Review toBeSaved,int productId) {
			Product p = em.find(Product.class, productId);
			toBeSaved.setProduct(p);
		    em.persist(toBeSaved);
		    return toBeSaved;
		  }

		  @Override
		  public void deleteById(int id) {
		    Review r = em.find(Review.class, id);
		    em.remove(r);
		  }

		  @Override
		  public List<Review> findAll() {
		    return null;
		
		  }
	}
	
	
		
				
		
	
	

